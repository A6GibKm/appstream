<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Appstream"><meta name="keywords" content="rust, rustlang, rust-lang, appstream"><title>appstream - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../appstream/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><p class="location">Crate appstream</p><div class="block version"><p>Version 0.2.1</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all appstream's items</p></a><div class="block items"><ul><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li></ul></div><p class="location"></p><div id="sidebar-vars" data-name="appstream" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="">appstream</a><button id="copy-path" onclick="copy_path(this)">⎘</button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/appstream/lib.rs.html#1-122" title="goto source code">[src]</a></span></h1><div class="docblock"><h1 id="appstream" class="section-header"><a href="#appstream">Appstream</a></h1>
<p>AppStream is a cross-distro effort for enhancing the metadata available about software components in the Linux and free-software ecosystem.
One of the project’s goals is to make building software-center applications possible, and make interaction with the package sources of
a distribution smarter. AppStream provides specifications for meta-information which is shipped by upstream projects
and can be consumed by other software. The meta-information includes data which is interesting to display in software centers
and is mainly useful for end-users, as well as descriptions about the public interfaces a software component provides,
which is mainly useful for developers, 3rd-party software installers and for automatically installing missing components
on a distribution, for example missing firmware or mimetype-handlers.</p>
<p>Specifications: <a href="https://www.freedesktop.org/software/appstream/docs/">https://www.freedesktop.org/software/appstream/docs/</a></p>
<p>This crate aimes to provide an easy and sane Rust parser of Appstream using <a href="https://docs.rs/xmltree/">xmltree</a></p>
<h1 id="examples" class="section-header"><a href="#examples">Examples</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">appstream</span>::{<span class="ident">Component</span>, <span class="ident">ParseError</span>};
<span class="kw">use</span> <span class="ident">appstream::builders</span>::{<span class="ident">ComponentBuilder</span>, <span class="ident">ReleaseBuilder</span>};
<span class="kw">use</span> <span class="ident">appstream::TranslatableString</span>;
<span class="kw">use</span> <span class="ident">appstream::enums</span>::{<span class="ident">Provide</span>, <span class="ident">ProjectUrl</span>};
<span class="kw">use</span> <span class="ident">url::Url</span>;
<span class="kw">use</span> <span class="ident">chrono</span>::{<span class="ident">Utc</span>, <span class="ident">TimeZone</span>};
<span class="kw">use</span> <span class="ident">std::convert::TryFrom</span>;

<span class="kw">fn</span> <span class="ident">main</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span>(), <span class="ident">ParseError</span><span class="op">&gt;</span> {

    <span class="kw">let</span> <span class="ident">xml</span> <span class="op">=</span> <span class="string">r&quot;&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;
                    &lt;component&gt;
                        &lt;id&gt;com.example.foobar&lt;/id&gt;
                        &lt;name&gt;Foo Bar&lt;/name&gt;
                        &lt;summary&gt;A foo-ish bar&lt;/summary&gt;
                        &lt;url type=&#39;homepage&#39;&gt;http://www.example.org&lt;/url&gt;
                        &lt;metadata_license&gt;CC0-1.0&lt;/metadata_license&gt;
                         
                        &lt;provides&gt;
                          &lt;library&gt;libfoobar.so.2&lt;/library&gt;
                          &lt;font&gt;foo.ttf&lt;/font&gt;
                          &lt;binary&gt;foobar&lt;/binary&gt;
                        &lt;/provides&gt;
                        &lt;releases&gt;
                          &lt;release version=&#39;1.2&#39; date=&#39;2015-02-16&#39;/&gt;
                        &lt;/releases&gt;
                        &lt;developer_name&gt;FooBar Team&lt;/developer_name&gt;
                    &lt;/component&gt;&quot;</span>;
    <span class="kw">let</span> <span class="ident">element</span> <span class="op">=</span> <span class="ident">xmltree::Element::parse</span>(<span class="ident">xml</span>.<span class="ident">as_bytes</span>())<span class="question-mark">?</span>;
    <span class="kw">let</span> <span class="ident">c1</span> <span class="op">=</span> <span class="ident">Component::try_from</span>(<span class="kw-2">&amp;</span><span class="ident">element</span>)<span class="question-mark">?</span>;

    <span class="kw">let</span> <span class="ident">c2</span> <span class="op">=</span> <span class="ident">ComponentBuilder::default</span>()
        .<span class="ident">id</span>(<span class="string">&quot;com.example.foobar&quot;</span>.<span class="ident">into</span>())
        .<span class="ident">name</span>(<span class="ident">TranslatableString::with_default</span>(<span class="string">&quot;Foo Bar&quot;</span>))
        .<span class="ident">metadata_license</span>(<span class="string">&quot;CC0-1.0&quot;</span>.<span class="ident">into</span>())
        .<span class="ident">summary</span>(<span class="ident">TranslatableString::with_default</span>(<span class="string">&quot;A foo-ish bar&quot;</span>))
        .<span class="ident">url</span>(<span class="ident">ProjectUrl::Homepage</span>(
            <span class="ident">Url::parse</span>(<span class="string">&quot;http://www.example.org&quot;</span>)<span class="question-mark">?</span>,
        ))
        .<span class="ident">developer_name</span>(<span class="ident">TranslatableString::with_default</span>(<span class="string">&quot;FooBar Team&quot;</span>))
        .<span class="ident">provide</span>(<span class="ident">Provide::Library</span>(<span class="string">&quot;libfoobar.so.2&quot;</span>.<span class="ident">into</span>()))
        .<span class="ident">provide</span>(<span class="ident">Provide::Font</span>(<span class="string">&quot;foo.ttf&quot;</span>.<span class="ident">into</span>()))
        .<span class="ident">provide</span>(<span class="ident">Provide::Binary</span>(<span class="string">&quot;foobar&quot;</span>.<span class="ident">into</span>()))
        .<span class="ident">release</span>(
            <span class="ident">ReleaseBuilder::new</span>(<span class="string">&quot;1.2&quot;</span>)
                .<span class="ident">date</span>(<span class="ident">Utc</span>.<span class="ident">ymd</span>(<span class="number">2015</span>, <span class="number">2</span>, <span class="number">16</span>).<span class="ident">and_hms_milli</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>))
                .<span class="ident">build</span>(),
        )
        .<span class="ident">build</span>();

    <span class="macro">assert_eq!</span>(<span class="ident">c1</span>, <span class="ident">c2</span>);
     
    <span class="prelude-val">Ok</span>(())
}</pre></div>
<p>The library can parse a collection of components as well</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">appstream</span>::{<span class="ident">Collection</span>, <span class="ident">Component</span>, <span class="ident">ParseError</span>};

<span class="kw">fn</span> <span class="ident">main</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span>(), <span class="ident">ParseError</span><span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="ident">collection</span> <span class="op">=</span> <span class="ident">Collection::from_path</span>(<span class="string">&quot;/var/lib/flatpak/appstream/flathub/x86_64/active/appstream.xml&quot;</span>.<span class="ident">into</span>())<span class="question-mark">?</span>;
    <span class="attribute">#[<span class="ident">cfg</span>(<span class="ident">feature</span><span class="op">=</span><span class="string">&quot;gzip&quot;</span>)]</span>
    <span class="kw">let</span> <span class="ident">collection</span> <span class="op">=</span> <span class="ident">Collection::from_gzipped</span>(<span class="string">&quot;/var/lib/flatpak/appstream/flathub/x86_64/active/appstream.xml.gz&quot;</span>.<span class="ident">into</span>())<span class="question-mark">?</span>;
    <span class="comment">// Find a specific application by id</span>
    <span class="macro">println!</span>(<span class="string">&quot;{:#?}&quot;</span>, <span class="ident">collection</span>.<span class="ident">find_by_id</span>(<span class="string">&quot;org.gnome.design.Contrast&quot;</span>.<span class="ident">into</span>()));

    <span class="comment">// Find the list of gedit plugins</span>
    <span class="ident">collection</span>.<span class="ident">components</span>.<span class="ident">iter</span>()
        .<span class="ident">filter</span>(<span class="op">|</span><span class="ident">c</span><span class="op">|</span> <span class="ident">c</span>.<span class="ident">extends</span>.<span class="ident">contains</span>(<span class="kw-2">&amp;</span><span class="string">&quot;org.gnome.gedit&quot;</span>.<span class="ident">into</span>()))
        .<span class="ident">collect</span>::<span class="op">&lt;</span><span class="ident">Vec</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="ident">Component</span><span class="op">&gt;</span><span class="op">&gt;</span>();

    <span class="prelude-val">Ok</span>(())
}</pre></div>
</div><h2 id="reexports" class="section-header"><a href="#reexports">Re-exports</a></h2>
<table><tr class="import-item"><td><code>pub use <a class="mod" href="https://docs.rs/url/2.2.2/url/index.html" title="mod url">url</a>;</code></td><td class="docblock-short"></td></tr><tr class="import-item"><td><code>pub use xmltree;</code></td><td class="docblock-short"></td></tr></table><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="builders/index.html" title="appstream::builders mod">builders</a></td><td class="docblock-short"><p>Various helpers to build any appstream type.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="enums/index.html" title="appstream::enums mod">enums</a></td><td class="docblock-short"><p>Various enumerations used in the appstream types.</p>
</td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.AppId.html" title="appstream::AppId struct">AppId</a></td><td class="docblock-short"><p>Unique identifier of a component. It should be reverse-DNS name.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Artifact.html" title="appstream::Artifact struct">Artifact</a></td><td class="docblock-short"><p>Defines the release artifacts, whether it’s the source-code or the binary distribution.
See <a href="https://www.freedesktop.org/software/appstream/docs/chap-Metadata.html#tag-releases">&lt;releases/&gt;</a>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Collection.html" title="appstream::Collection struct">Collection</a></td><td class="docblock-short"><p>A collection is a wrapper around multiple components at once.
Provided by the source of the components (a repository).
See <a href="https://www.freedesktop.org/software/appstream/docs/chap-CollectionData.html">Collection Metadata</a>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Component.html" title="appstream::Component struct">Component</a></td><td class="docblock-short"><p>A component is wrapper around a <code>metainfo.xml</code> file or previously an <code>appdata.xml</code> file.
It describes an application to the various stores out there on Linux.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.ContentRating.html" title="appstream::ContentRating struct">ContentRating</a></td><td class="docblock-short"><p>Defines an Open Age Rating service.
See <a href="https://hughsie.github.io/oars/index.html">OARS</a> for more information.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Image.html" title="appstream::Image struct">Image</a></td><td class="docblock-short"><p>A screenshot image.
See <a href="https://www.freedesktop.org/software/appstream/docs/chap-Metadata.html#tag-screenshots">&lt;screenshots/&gt;</a>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Language.html" title="appstream::Language struct">Language</a></td><td class="docblock-short"><p>Defines how well a language is supported by the component.
It provides access to a the locale and the percentage of the translation completion.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.License.html" title="appstream::License struct">License</a></td><td class="docblock-short"><p>A SPDX license.
See the list of commonly found licenses <a href="https://spdx.org/licenses/">https://spdx.org/licenses/</a>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.MarkupTranslatableString.html" title="appstream::MarkupTranslatableString struct">MarkupTranslatableString</a></td><td class="docblock-short"><p>A wrapper around a translable string that can contains markup.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Release.html" title="appstream::Release struct">Release</a></td><td class="docblock-short"><p>Represents the metainformation that defines a Release.
See <a href="https://www.freedesktop.org/software/appstream/docs/chap-Metadata.html#tag-releases">&lt;releases/&gt;</a>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Screenshot.html" title="appstream::Screenshot struct">Screenshot</a></td><td class="docblock-short"><p>Defines a visual representation of the <code>Component</code>.
See <a href="https://www.freedesktop.org/software/appstream/docs/chap-Metadata.html#tag-screenshots">&lt;screenshots/&gt;</a>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.TranslatableList.html" title="appstream::TranslatableList struct">TranslatableList</a></td><td class="docblock-short"><p>A wrapper around a list of strings that are translatable.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.TranslatableString.html" title="appstream::TranslatableString struct">TranslatableString</a></td><td class="docblock-short"><p>A wrapper around a translatable string.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Video.html" title="appstream::Video struct">Video</a></td><td class="docblock-short"><p>A screenshot video.
See <a href="https://www.freedesktop.org/software/appstream/docs/chap-Metadata.html#tag-screenshots">&lt;screenshots/&gt;</a>.</p>
</td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.ParseError.html" title="appstream::ParseError enum">ParseError</a></td><td class="docblock-short"><p>Error happened during the parsing process.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="appstream" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script></body></html>